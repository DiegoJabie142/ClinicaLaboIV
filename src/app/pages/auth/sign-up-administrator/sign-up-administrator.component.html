<app-header
  *ngIf="header"
  [title]="'Registro'"
  [back]="true"
  [whereToBack]="'/sign-up/select'">
</app-header>
<div class="container" [class.body]="header">
    <div class="d-flex-center widht-100">
        <app-logo [titulo]="'Registro de Administrador'" [color]="color"></app-logo>
    </div>
    
    <div class="d-flex-center width-500">
        <form  class="auth-form" (ngSubmit)="onSubmit()">

            <!--NOMBRE-->
            <div class="margin-input">
                <app-custom-input label="Nombre" [control]="form.controls.name" type="text" (keypress)="allowOnlyLetters($event)"></app-custom-input>
                @if(form.controls.name.errors && form.controls.name.touched){
                    <ng-container class="validators-container">                  
                            <div *ngIf="form.controls.name.errors?.['required']" class="validators">El nombre es requerido</div>
                            <div *ngIf="!form.controls.name.errors?.['required']" class="validators">El nombre debe tener 5 o más carácteres y contener solo letras</div>
                     </ng-container>
                }
            </div>
          
            <!--APELLIDO-->
            <div class="margin-input">
                <app-custom-input label="Apellido" [control]="form.controls.lastName" type="text" (keypress)="allowOnlyLetters($event)"></app-custom-input>
                @if(form.controls.lastName.errors && form.controls.lastName.touched){
                    <ng-container class="validators-container">                  
                            <div *ngIf="form.controls.lastName.errors?.['required']" class="validators">El apellido es requerido</div>
                            <div *ngIf="!form.controls.lastName.errors?.['required']" class="validators">El apellido debe tener 5 o más carácteres</div>
                     </ng-container>
                }
            </div>
            


            <!--DNI-->
            <div class="margin-input">
                <app-custom-input label="DNI" [control]="form.controls.dni" type="number"></app-custom-input>
                @if(form.controls.dni.errors && form.controls.dni.touched){
                    <ng-container class="validators-container">                  
                            <div *ngIf="form.controls.dni.errors?.['required']" class="validators">El dni es requerido</div>
                            <div *ngIf="!form.controls.dni.errors?.['required']" class="validators">El dni debe tener entre 6 y 8 carácteres</div>
                     </ng-container>
                }
            </div>
           

            <!--EDAD-->
            <div class="margin-input">
                <app-custom-input label="EDAD" [control]="form.controls.age" type="number"></app-custom-input>
                @if(form.controls.age.errors && form.controls.age.touched){
                    <ng-container class="validators-container">                  
                            <div *ngIf="form.controls.age.errors?.['required']" class="validators">La edad es requerida</div>
                            <div *ngIf="!form.controls.age.errors?.['required']" class="validators">La edad acepta valores entre 0 y 100</div>
                     </ng-container>
                }
            </div>



            <!--EMAIL-->
            <div class="margin-input">
                <app-custom-input label="Correo" [control]="form.controls.email" type="email"></app-custom-input>
                @if(form.controls.email.errors && form.controls.email.touched){
                    <ng-container class="validators-container">                  
                            <div *ngIf="form.controls.email.errors?.['required']" class="validators">El correo es requerido</div>
                            <div *ngIf="form.controls.email.errors?.['email']" class="validators">Ingrese un formato correcto</div>
                     </ng-container>
                }
            </div>
           

            <!--PASSWORD-->
            <div class="margin-input">
                <app-custom-input label="Contraseña" [control]="form.controls.password" type="password"></app-custom-input>
                @if(form.controls.password.errors && form.controls.password.touched){
                    <ng-container class="validators-container">                  
                            <div *ngIf="form.controls.password.errors?.['required']" class="validators">La contraseña es requerida</div>
                            <div *ngIf="form.controls.password.errors?.['email']" class="validators">Debe tener 6 carácteres o más</div>
                     </ng-container>
                }
            </div>
        
            <!--PRIMER IMAGEN DE PERFIL-->
            <div class="widht-100 d-flex-center">
            <app-picture-input
            label="Selecciona tu imagen"
            (fileSelected)="onFileSelected($event, 'profilePic')"
            (fileRemoved)="onFileRemoved()"
            >
            </app-picture-input>
            @if(form.controls.profilePic.errors && form.controls.profilePic.touched){
                <ng-container class="validators-container">                  
                        <div *ngIf="form.controls.profilePic.errors?.['required']" class="validators">La imagen es requerida</div>
                 </ng-container>
            }
     
            </div>

            <div class="d-flex-center widht-100">
                <button mat-flat-button color="warn" class="button-login" [disabled]="form.invalid">REGISTRARSE</button>
            </div>
        </form>
        
    </div>
</div>
